define(["NavView",getViewTemplatePath("MyProfile"),"UItreeMenu","treeMenuModel","UISlide","UITab"],function(a,b,c,d,e,f){var g=d.getInstance();return _.inherit(a,{propertys:function($super){$super()},onCreate:function(){this.$el.html(b),this.$(".ct-main-content").empty();var a=this;g.execute(function(b){var d=b;this.tree_menu=new c({datamodel:{data:d.nodeList},wrapper:this.$(".ct-main-content"),scrollWrapper:this.$(".ct-bg"),scrollScroller:this.$(".ct-main-content"),itemClick:function(b){var c=$(b.currentTarget);""!=c.attr("target")&&($("body").toggleClass("overflow-h"),$("#main").toggleClass("overflow-h"),a.forward(c.attr("target")))},itemleafClick:function(b){""!=$(b.target).attr("target")&&a.forward($(b.target).attr("target"))}}),this.tree_menu.show(),this.$(".ct-main_menu").hide(),$("body").removeClass("overflow-h"),$("#main").removeClass("overflow-h")},function(a){},this),this.tab1||(this.tab1=new f({datamodel:{data:[{id:1,name:"最新消息"},{id:2,name:"我的菜单"}],curClass:"ct-ui-tab-current",index:0},onChange:function(){a.$(".tabcontent").hide(),a.$("#content"+this.el.attr("data-key")).show()},wrapper:this.$el.find(".wrapper1")}),this.tab1.show()),this.setAndShowTopAds()},events:{"click .icon_menu":function(){this.$(".ct-main_menu").toggle(),this.$(".ct-main_a").toggleClass("ct-main"),$("body").toggleClass("overflow-h"),$("#main").toggleClass("overflow-h")},"click #viewSalary":function(){this.forward("ViewSalary")}},onPreShow:function(){this.turning()},onShow:function(){"none"!=this.$(".ct-main_menu").css("display")&&($("body").addClass("overflow-h"),$("#main").addClass("overflow-h"))},setAndShowTopAds:function(){var a=this.$(".J_imageSlider img");this.$el.find(".J_imageSlider").html("");for(var b=[],c=null,d=0,f=a.length;d<Math.min(f,10);d++)c=a[d],b.push({link:"guide.html#controls",title:d+"test222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",src:$(c).attr("src")});var g=this;this.slider=new e({images:b,container:g.$el.find(".J_imageSlider"),dir:"LEFT",index:0,noNeedDefault:"false",autoPlay:0,loop:!0,showNav:1,onImageClick:$.proxy(function(){var a=this.slider.index;if(b[a]){var c=b[a].link;window.location=c}},this)}),this.slider.play()},onHide:function(){}})});