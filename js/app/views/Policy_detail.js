define(["View",getViewTemplatePath("Policy_Detail"),"UIScroll","LanguageStore","PolicyArticleModel"],function(a,b,c,d,e){var f=d.getInstance();return _.inherit(a,{onCreate:function(){this.$el.html(b),$("#policyDetail-title")[0].innerHTML=f.getAttr("language").policydetail,$("#gotoTop span")[0].innerHTML=f.getAttr("language").gotoTop},events:{"click #gotoTop":"gotoTop"},gotoTop:function(){document.documentElement.scrollTop=document.body.scrollTop=0},onPreShow:function(){var a=location.href.substring(location.href.indexOf("&")+1,location.href.length),b=e.getInstance();b.execute(function(a){function b(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,d,c)}function c(){0}function d(a){0,window.fileSystem=a,a.root.getDirectory(window.appRootDirName,{create:!0,exclusive:!1},e,c)}function e(a){window.appRootDir=a,0}function f(a){try{alert("OpenFile");var b=[];b[0]=a,alert(b[0]),cordova.exec(function(a){},null,"OpenFilePlugin","haha",b)}catch(c){alert(c.message)}}$("#policyDetail-cont")[0].innerHTML=a.data.content,a.data.attachment?($("#attachments")[0].href=a.data.attachment,$("#attachments")[0].innerHTML=a.data.title,window.appRootDirName="download_attachments",document.addEventListener("deviceready",b,!1),downloadFile=function(){alert("start");var a=new FileTransfer,b=encodeURI("http://12.130.30.22:8080/uploadImagetest.xls"),c=window.appRootDir.fullPath+"/test.xls";alert(window.appRootDir.fullPath),a.download(b,c,function(a){alert("success"),alert(a.fullPath),f(a.fullPath),0},function(a){alert("error"),alert(JSON.stringify(a)),0,0,0})}):$("#attachments").empty},function(a){0},this,function(a){},{policy_id:a}),this.turning()},onShow:function(){},onHide:function(){}})});