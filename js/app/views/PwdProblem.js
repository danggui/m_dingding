define(["View",getViewTemplatePath("PwdProblem"),"UIToast","UIRadioList","PwdQuestionModel","PwdChangeModel","UILoading","EnvStore","LanguageStore"],function(a,b,c,d,e,f,g,h,i){var j=i.getInstance(),k={WEB_URL_DEV:"http://101.230.3.6:8082",WEB_URL_T:"http://58.240.190.198:8142",WEB_URL_D:"http://120.27.43.83:8083",WEB_URL_W:"https://lite.cdpcloud.com",WEB_LUKE:"http://192.168.102.72:8080"};return _.inherit(a,{onCreate:function(){this.$el.html(b),this.$("#searchPassword-box").append(_.template(this.$("#searchPassword").html())({lanStore:j.getAttr("language")})),this.loading1||(this.loading1=new g({maskToHide:!0}))},events:{"click #enterOK":"enterOK_fun","click #selectQuestion":"selectQuestion_fun"},enterOK_fun:function(a){var b=$("#PwdCompany").val(),d=$("#PwdUser").val(),e=$("#input_answer").val();if(a.stopPropagation(),this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0})),""==b)return this.toast1.showToast(j.getAttr("language").loginTipsCompany),!1;if(""==d)return this.toast1.showToast(j.getAttr("language").loginTipsName),!1;if(""==e)return this.toast1.showToast(j.getAttr("language").SelectQuestion),!1;this.loading1.show(),a.stopPropagation(),this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0}));var g=f.getInstance();g.execute(function(a,b,c,d){return"0"==b.status?(this.toast1.showToast(b.message),this.loading1.hide(),!1):(this.loading1.hide(),void this.toast1.showToast(b.message))},function(a){0},this,function(a){},{client_code:b,user_name:d,code:$("#input_answer").attr("data-id"),answer:$("#PwdAnswer").val()})},selectQuestion_fun:function(a){var b=$("#PwdCompany").val(),f=$("#PwdUser").val(),g=h.getInstance(),i=b.substring(0,b.indexOf("#")+1).toLowerCase();if("d#"==i?g.setAttr("envUrl",k.WEB_URL_DEV):"t#"==i?g.setAttr("envUrl",k.WEB_URL_T):"m#"==i?g.setAttr("envUrl",k.WEB_URL_D):"l#"==i?g.setAttr("envUrl",k.WEB_LUKE):g.setAttr("envUrl",k.WEB_URL_W),this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0})),""==b)return this.toast1.showToast(j.getAttr("language").loginTipsCompany),!1;if(""==f)return this.toast1.showToast(j.getAttr("language").loginTipsName),!1;this.loading1.show(),a.stopPropagation();var l=l||[],m=e.getInstance();m.execute(function(a,b,c,f){if("0"==b.status)return this.toast1.showToast(b.message),this.loading1.hide(),!1;if(_.each(b.data,function(a,b,c){l.push(e.viewModel(a.name,a.code))}),!this.selectQuestion_radio){var g=l;scope=this,this.selectQuestion_radio=new d({datamodel:{title:"选择问题",data:g},displayNum:5,selectId:0,index:0,onClick:function(a,b){scope.$("#input_answer")[0].innerHTML=b.name,scope.$("#input_answer").attr("data-id",b.code),this.hide()}}),this.selectQuestion_radio.setIndex(0)}this.selectQuestion_radio.show(),this.loading1.hide()},function(a){0},this,function(a){},{client_code:b.substring(b.indexOf("#")+1),user_name:f})},onPreShow:function(){this.turning()},onShow:function(){},onHide:function(){this.selectQuestion_radio&&this.selectQuestion_radio.hide()}})});