define(["View",getViewTemplatePath("changePwd"),"ChangePasswordModel","UIToast","LanguageStore"],function(a,b,c,d,e){var f=c.getInstance(),g=e.getInstance();return _.inherit(a,{onCreate:function(){this.$el.html(b),this.$("#ChangePWD-box").append(_.template(this.$("#ChangePWD").html())({lanStore:g.getAttr("language")}))},events:{"click #btnOk":"changePWD","click #btnCancel":function(){this.back()}},changePWD:function(a){a.stopPropagation();var b=$("#orgPwd").val(),c=$("#newPwd").val(),e=$("#new2Pwd").val();this.toast1||(this.toast1=new d({datamodel:{content:"content"},TIMERRES:!0})),a.preventDefault();var h=/^[a-zA-Z]\w{7,17}$/;return""==b?(this.toast1.showToast(g.getAttr("language").changePwdError01),!1):""==c?(this.toast1.showToast(g.getAttr("language").changePwdError02),!1):""==e?(this.toast1.showToast(g.getAttr("language").changePwdError03),!1):void(e!=c?this.toast1.showToast(g.getAttr("language").changePwdError04):0==h.test(c)?this.toast1.showToast(g.getAttr("language").changePwdError06):f.execute(function(a,b,c,d){return"0"==b.status?(this.toast1.showToast(b.message),!1):(this.toast1.showToast(g.getAttr("language").changePwdError05),void this.back())},function(a){0},this,function(a){},{password:b,new_password:c}))},onPreShow:function(){this.turning()},onShow:function(){},onHide:function(){$("#orgPwd").val(""),$("#newPwd").val(""),$("#new2Pwd").val("")}})});