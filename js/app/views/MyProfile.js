define(["NavView",getViewTemplatePath("MyProfile"),"UItreeMenu","UserCenterInfoModel","UISlide","UILoading","MyProfileStore","LoginOutModel","LanguageStore","DDloginFromPartnerModel","UIToast","EnvStore"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.getInstance(),n=(d.getInstance(),g.getInstance()),o=i.getInstance(),p=h.getInstance(),q=l.getInstance(),r="",s="";return _.inherit(a,{propertys:function($super){$super()},onCreate:function(){this.toast1||(this.toast1=new k({datamodel:{content:"content"},TIMERRES:!0})),q.setAttr("envUrl","http://58.240.190.198:8142"),n.setAttr("sessionid",""),$.ajax({type:"GET",url:"./fakedata/zh_cn.json",async:!1,dataType:"json",success:function(a){o.setAttr("language",a.data)},error:function(a,b){0}});var a=location.href.split("?")[1].split("&");_.each(a,function(a,b,c){a.includes("employeeId")?s=a.split("=")[1]:r=a.split("=")[1]}),m.execute(function(a,b,c,d){if("0"==b.status)return this.toast1.showToast(b.message),!1;n.setAttr("sessionid",b.data.session_id),n.setAttr("myProfileStore",JSON.stringify(b.data));var b=JSON.parse(n.getAttr("myProfileStore"));$("#basic_info_wrap").html(_.template(this.$el.find("#basic_info_tpl").html())({basic_infoData:b.menu_info}))},function(a){0},this,function(a){},{client_code:r,workid:s}),this.$el.html(b),this.$("#self-service").append(_.template(this.$("#basic_info_tp0").html())({lanStore:o.getAttr("language")})),this.loading1||(this.loading1=new f({maskToHide:!0}));var c=this;this.loading1.show(),c.$(".ct-main_menu").hasClass("ct-main-m")&&($("body").removeClass("overflow-h"),$("#main").removeClass("overflow-h")),c.loading1.hide()},events:{"touchstart .myDivCard.item,.flex-btn":function(a){$(a.currentTarget).addClass("cur")},"touchend .myDivCard.item,.flex-btn":function(a){$(a.currentTarget).removeClass("cur")},"touchcancel .myDivCard.item,.flex-btn":function(a){$(a.currentTarget).removeClass("cur")},"click #salaryInfo":"view_salary","click #newsInfo":"view_news","click #policyInfo":"view_policy","click #insurance":"view_insurance","click .icon_menu":"toggleSettingsMenu","click #work_todo":"work_todo","click #toDoList":"toDoList","click #work_hint":"work_hint","click #work_notify":"work_notify","click #wait_apply":"wait_apply","click #on_apply":"on_apply","click #self_service":"self_service","click #has_apply":"has_apply","click #myInfo":"myinfo","click #myInfomatin":"myinfo","click #leaveInfo":"leaveInfo","click #fq":"fq","click .list-item-nav":"jump_settingsPage","click .settings-mask-black":"toggleSettingsMenu"},view_salary:function(){this.forward("ViewSalary")},view_news:function(){this.forward("News_List")},view_policy:function(){this.forward("PolicyList")},view_insurance:function(){this.forward("commercialInsurance")},toggleLeftMenu:function(){this.$(".ct-main_a").toggleClass("ct-main"),this.$("header").toggleClass("ct-h-position"),this.$(".ct-main_menu").toggleClass("ct-main-m"),$("body").toggleClass("overflow-h")},toggleSettingsMenu:function(){this.$(".settings-nav").toggleClass("settings-nav-hide"),this.$(".settings-nav").toggleClass("settings-nav-show"),this.$(".mask-nav").toggleClass("settings-mask-black")},self_service:function(){this.forward("MyProfile")},myinfo:function(){this.forward("MyInfo")},fq:function(){this.forward("FAQ")},jump_settingsPage:function(a){var b=$(a.currentTarget);"language"==b.attr("data-id")?this.forward("Settings-language"):"password"==b.attr("data-id")?this.forward("changePwd"):"logout"==b.attr("data-id")&&p.execute(function(a){return"0"==a.status?(this.toast1.showToast(a.message),!1):(this.$(".settings-nav").toggleClass("settings-nav-hide"),this.$(".settings-nav").toggleClass("settings-nav-show"),this.$(".mask-nav").toggleClass("settings-mask-black"),window.location.href=window.location.href.substring(0,window.location.href.indexOf("#")),void 0)},function(a){0},this,function(a){},{})},work_todo:function(){this.forward("MyWork_List!work_todo")},toDoList:function(){this.forward("MyWork_todoList")},leaveInfo:function(){this.forward("MyWork_leaveList")},work_hint:function(){this.forward("MyWork_List!work_hint")},work_notify:function(){this.forward("MyWork_List!work_notify")},wait_apply:function(){this.forward("MyWork_List!wait_apply")},on_apply:function(){this.forward("MyWork_List!on_apply")},has_apply:function(){this.forward("MyWork_List!has_apply")},onPreShow:function(){this.turning()},onShow:function(){this.$(".ct-main_menu").hasClass("ct-main-m")||($("body").addClass("overflow-h"),$("#main").addClass("overflow-h")),this.slider&&this.slider._resize(),this.refreshHeight()},refreshHeight:function(){this.tree_menu&&this.tree_menu.scroll&&this.tree_menu.scroll.refresh&&this.tree_menu.scroll.refresh()},setAndShowTopAds:function(a){this.$el.find(".J_imageSlider").html("");var b=this;this.slider=new e({images:a,container:b.$el.find(".J_imageSlider"),dir:"LEFT",index:0,noNeedDefault:"false",autoPlay:0,loop:!0,showNav:1,onImageClick:$.proxy(function(){var b=this.slider.index;if(a[b]){var c=a[b].link;window.location=c}},this)}),this.slider.play()},onHide:function(){}})});